schema: '2.0'
stages:
  train:
    cmd: python pipeline/train.py outputs/model
    deps:
    - path: data
      md5: 606e9a90b8fa29bd8554acc9d7c68573.dir
      size: 586251
      nfiles: 3
    - path: pipeline/modeling.py
      md5: 1086122e50c4861e130229cc672fde62
      size: 1297
    - path: pipeline/train.py
      md5: a54606746b87d11b47b9527e4db965d7
      size: 2440
    params:
      params.yaml:
        train.batch_size: 32
        train.epoch: 1
        train.lr: 0.001
        train.train_size: 128
    outs:
    - path: dvclive/scalars/loss.tsv
      md5: ee85cd94f1e1060befc0f63d8f920e68
      size: 57
    - path: dvclive/scalars/sparse_categorical_accuracy.tsv
      md5: 416cea6172c29b4784adf19366529284
      size: 71
    - path: dvclive/scalars/val_loss.tsv
      md5: 4a850a30ba66fbb40d27fdea55853461
      size: 60
    - path: dvclive/scalars/val_sparse_categorical_accuracy.tsv
      md5: ff5adfe42a9d2e97941e412d23955eb1
      size: 75
    - path: outputs/model
      md5: 035fd9d26e4e375c6e946102f664b70c.dir
      size: 99065193
      nfiles: 4
  evaluate:
    cmd: python pipeline/evaluate.py outputs/model
    deps:
    - path: data/test
      md5: 5929b3522ef9a55524a4e00ae0250d3e.dir
      size: 290499
      nfiles: 1
    - path: outputs/model
      md5: 035fd9d26e4e375c6e946102f664b70c.dir
      size: 99065193
      nfiles: 4
    - path: pipeline/evaluate.py
      md5: 69a2c14067a49a059ea95bddd8ec2021
      size: 1622
    params:
      params.yaml:
        evaluate.batch_size: 32
        evaluate.test: test
    outs:
    - path: outputs/metrics.json
      md5: 61339be78d05a5c74e22fe7a0b82b244
      size: 69
